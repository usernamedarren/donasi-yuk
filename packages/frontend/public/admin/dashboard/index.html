<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Admin | DonasiYuk</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <nav class="navbar"> 
        <div class="logo">DonasiYuk</div>
        
        <ul class="admin-nav-links">
            <li><a href="index.html" class="active"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
            <li><a href="../verifikasi/index.html"><i class="fas fa-check-double"></i> Verifikasi</a></li> 
            <li><a href="#"><i class="fas fa-users"></i> User</a></li>
            <li><a href="#"><i class="fas fa-chart-line"></i> Laporan</a></li>
        </ul>
        
        <div class="admin-profile-widget">
            <a href="#" class="admin-profile-link" onclick="return false;"> 
                <i class="fas fa-user-shield admin-profile-icon"></i>
                <div class="admin-details">
                    <span class="username" id="admin-name">ADMIN NAME</span>
                    <span class="role">Administrator</span> 
                </div>
            </a>
            <button class="logout-btn" onclick="logoutAdmin()">
                <i class="fas fa-sign-out-alt"></i> LOGOUT
            </button>
        </div>
    </nav>
    
    <main class="admin-dashboard-main">
        <div class="dashboard-container">
            <header class="main-header">
                <h1>Selamat Datang di Dashboard Admin</h1>
            </header>
            
            <section class="stats-grid">
                <div class="stat-card"
                    style="--card-color: var(--color-alert-danger);"
                    onclick="window.location.href='../verifikasi/index.html'">
                    <h3>Menunggu Verifikasi</h3>
                    <p class="number" id="stat-pending">0</p>
                    <span class="trend">Aksi segera diperlukan</span>
                </div>
                
                <div class="stat-card" style="--card-color: var(--color-primary);">
                    <h3>Kampanye Aktif</h3>
                    <p class="number" id="stat-active">0</p>
                    <span class="trend">Stable</span>
                </div>
                <div class="stat-card" style="--card-color: var(--color-secondary);">
                    <h3>Total User</h3>
                    <p class="number" id="stat-users">0</p>
                    <span class="trend">+0 user baru bulan ini</span>
                </div>
                <div class="stat-card" style="--card-color: #f1c40f;">
                    <h3>Donasi Hari Ini</h3>
                    <p class="number" id="stat-donations-today">Rp 0</p>
                    <span class="trend">Target harian</span>
                </div>
            </section>


            <section class="task-section">
                <h2>Daftar Tugas Verifikasi Mendesak</h2>
                <div class="campaign-list-card" id="urgent-task-list">
                    <!-- akan diisi dari JS -->
                </div>
            </section>

        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
             const adminId = localStorage.getItem('adminId') || 'Admin';
             
             // Cek dan tampilkan nama admin
             const adminPart = adminId.split('@')[0];
             const displayName = adminPart.charAt(0).toUpperCase() + adminPart.slice(1);
             document.getElementById('admin-name').textContent = displayName;
             
             // Redirect jika tidak login
             if (!localStorage.getItem('isAdminLoggedIn')) {
                 window.location.href = '../../login/index.html'; 
             }
        });
        
        function logoutAdmin() {
             if (confirm("Apakah Anda yakin ingin Logout dari sesi Admin?")) {
                localStorage.removeItem('isAdminLoggedIn');
                localStorage.removeItem('adminId');
                window.location.href = '../../login/index.html'; 
             }
        }
    </script>
    
    <script src="../global/api.js"></script>
    <script src="script.js"></script>

</body>
</html>